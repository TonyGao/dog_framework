{% extends "base.html.twig" %}

{% block title %}Drawer 样式测试{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('components/drawer.css', 'sunui') }}">
    <style>
        body {
            background: #f2f3f5;
            font-family: -apple-system, BlinkMacSystemFont, Helvetica Neue, Arial, Segoe UI, PingFang SC, Microsoft Yahei, Hiragino Sans GB, sans-serif;
        }
        .test-container {
            padding: 40px;
            max-width: 1200px;
            margin: 0 auto;
        }
        .test-header {
            text-align: center;
            margin-bottom: 40px;
        }
        .test-header h1 {
            color: #1f2329;
            font-size: 32px;
            font-weight: 600;
            margin-bottom: 16px;
        }
        .test-header p {
            color: #64748b;
            font-size: 16px;
        }
        .test-buttons {
            display: flex;
            gap: 16px;
            justify-content: center;
            flex-wrap: wrap;
        }
        .test-btn {
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            border: none;
            cursor: pointer;
            transition: all 0.2s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        .test-btn-primary {
            background: linear-gradient(135deg, #3370ff 0%, #2563eb 100%);
            color: white;
            box-shadow: 0 2px 4px rgba(51, 112, 255, 0.2);
        }
        .test-btn-primary:hover {
            background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(51, 112, 255, 0.3);
        }
    </style>
{% endblock %}

{% block body %}
<div class="test-container">
    <div class="test-header">
        <h1>EF-Drawer 样式测试</h1>
        <p>测试更新后的抽屉组件样式，现在与框架主色调保持一致</p>
    </div>
    
    <div class="test-buttons">
        <button class="test-btn test-btn-primary" onclick="openDrawer('basic')">
            <i class="fa-solid fa-eye"></i>
            基础抽屉
        </button>
        <button class="test-btn test-btn-primary" onclick="openDrawer('form')">
            <i class="fa-solid fa-edit"></i>
            表单抽屉
        </button>
        <button class="test-btn test-btn-primary" onclick="openDrawer('content')">
            <i class="fa-solid fa-list"></i>
            内容抽屉
        </button>
    </div>
</div>

<!-- 基础抽屉 -->
<div class="ef-drawer-container" id="drawer-basic" style="display: none;">
    <div class="ef-drawer-mask" onclick="closeDrawer('basic')"></div>
    <div class="ef-drawer" style="right: 0px; width: 500px;">
        <div class="ef-drawer-header">
            <div class="ef-drawer-title">
                <i class="fa-solid fa-info-circle"></i>
                基础抽屉示例
            </div>
            <div class="ef-drawer-close-btn" onclick="closeDrawer('basic')">
                <i class="fa-solid fa-times"></i>
            </div>
        </div>
        
        <div class="ef-drawer-body">
            <div class="ef-drawer-content">
                <div class="ef-drawer-section">
                    <div class="ef-drawer-section-header">
                        <i class="fa-solid fa-star"></i>
                        基本信息
                    </div>
                    <div class="ef-drawer-section-body">
                        <p>这是一个使用新样式的抽屉组件示例。</p>
                        <p>主要特点：</p>
                        <ul>
                            <li>使用框架主色调 #3370ff</li>
                            <li>现代化的渐变效果</li>
                            <li>统一的设计风格</li>
                            <li>优化的用户体验</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="ef-drawer-footer">
            <button class="ef-drawer-btn ef-drawer-btn-secondary" onclick="closeDrawer('basic')">
                <i class="fa-solid fa-times"></i>
                关闭
            </button>
            <button class="ef-drawer-btn ef-drawer-btn-primary">
                <i class="fa-solid fa-check"></i>
                确定
            </button>
        </div>
    </div>
</div>

<!-- 表单抽屉 -->
<div class="ef-drawer-container" id="drawer-form" style="display: none;">
    <div class="ef-drawer-mask" onclick="closeDrawer('form')"></div>
    <div class="ef-drawer" style="right: 0px; width: 600px;">
        <div class="ef-drawer-header">
            <div class="ef-drawer-title">
                <i class="fa-solid fa-edit"></i>
                表单抽屉示例
            </div>
            <div class="ef-drawer-close-btn" onclick="closeDrawer('form')">
                <i class="fa-solid fa-times"></i>
            </div>
        </div>
        
        <div class="ef-drawer-body">
            <div class="ef-drawer-content">
                <div class="ef-drawer-section">
                    <div class="ef-drawer-section-header">
                        <i class="fa-solid fa-user"></i>
                        用户信息
                    </div>
                    <div class="ef-drawer-section-body">
                        <div class="ef-drawer-form-group">
                            <label class="ef-drawer-form-label">姓名</label>
                            <input type="text" class="ef-drawer-form-input" placeholder="请输入姓名">
                        </div>
                        <div class="ef-drawer-form-group">
                            <label class="ef-drawer-form-label">邮箱</label>
                            <input type="email" class="ef-drawer-form-input" placeholder="请输入邮箱">
                        </div>
                        <div class="ef-drawer-form-group">
                            <label class="ef-drawer-form-label">描述</label>
                            <textarea class="ef-drawer-form-textarea" placeholder="请输入描述信息"></textarea>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="ef-drawer-footer">
            <button class="ef-drawer-btn ef-drawer-btn-secondary" onclick="closeDrawer('form')">
                <i class="fa-solid fa-times"></i>
                取消
            </button>
            <button class="ef-drawer-btn ef-drawer-btn-danger">
                <i class="fa-solid fa-trash"></i>
                删除
            </button>
            <button class="ef-drawer-btn ef-drawer-btn-primary">
                <i class="fa-solid fa-save"></i>
                保存
            </button>
        </div>
    </div>
</div>

<!-- 内容抽屉 -->
<div class="ef-drawer-container" id="drawer-content" style="display: none;">
    <div class="ef-drawer-mask" onclick="closeDrawer('content')"></div>
    <div class="ef-drawer" style="right: 0px; width: 800px;">
        <div class="ef-drawer-header">
            <div class="ef-drawer-title">
                <i class="fa-solid fa-list"></i>
                内容抽屉示例
            </div>
            <div class="ef-drawer-close-btn" onclick="closeDrawer('content')">
                <i class="fa-solid fa-times"></i>
            </div>
        </div>
        
        <div class="ef-drawer-body">
            <div class="ef-drawer-content">
                <div class="ef-drawer-section">
                    <div class="ef-drawer-section-header">
                        <i class="fa-solid fa-palette"></i>
                        设计系统
                    </div>
                    <div class="ef-drawer-section-body">
                        <h4>颜色方案</h4>
                        <p>主色调：#3370ff（框架蓝）</p>
                        <p>辅助色：#f2f3f5（背景灰）</p>
                        <p>文本色：#1f2329（深灰）</p>
                    </div>
                </div>
                
                <div class="ef-drawer-section">
                    <div class="ef-drawer-section-header">
                        <i class="fa-solid fa-cog"></i>
                        组件特性
                    </div>
                    <div class="ef-drawer-section-body">
                        <ul>
                            <li>响应式设计</li>
                            <li>平滑动画效果</li>
                            <li>可自定义宽度</li>
                            <li>支持多种按钮样式</li>
                            <li>优化的滚动条样式</li>
                            <li>模糊背景效果</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="ef-drawer-footer">
            <button class="ef-drawer-btn ef-drawer-btn-secondary" onclick="closeDrawer('content')">
                <i class="fa-solid fa-arrow-left"></i>
                返回
            </button>
        </div>
    </div>
</div>

<script>
function openDrawer(type) {
    const drawer = document.getElementById('drawer-' + type);
    if (drawer) {
        drawer.style.display = 'block';
        // 添加动画效果
        setTimeout(() => {
            drawer.style.opacity = '1';
        }, 10);
    }
}

function closeDrawer(type) {
    const drawer = document.getElementById('drawer-' + type);
    if (drawer) {
        drawer.style.opacity = '0';
        setTimeout(() => {
            drawer.style.display = 'none';
        }, 200);
    }
}

// 添加CSS动画
const style = document.createElement('style');
style.textContent = `
    .ef-drawer-container {
        opacity: 0;
        transition: opacity 0.2s ease;
    }
    .ef-drawer {
        transform: translateX(100%);
        transition: transform 0.3s ease;
    }
    .ef-drawer-container[style*="block"] .ef-drawer {
        transform: translateX(0);
    }
`;
document.head.appendChild(style);
</script>
{% endblock %}